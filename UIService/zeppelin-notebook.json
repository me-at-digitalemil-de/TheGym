{"paragraphs":[{"title":"Load Dependencies","text":"%dep\nz.load(\"org.apache.commons:commons-csv:1.2\")\nz.load(\"org.apache.spark:spark-streaming-kafka_2.10:1.5.2\")\nz.load(\"com.typesafe.play:play-json_2.10:2.4.6\")\n","dateUpdated":"Jan 31, 2017 6:12:37 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala","title":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485886357675_1171424935","id":"20170131-181237_1188202773","result":{"code":"SUCCESS","type":"TEXT","msg":"res0: org.apache.zeppelin.spark.dep.Dependency = org.apache.zeppelin.spark.dep.Dependency@5ba40793\n"},"dateCreated":"Jan 31, 2017 6:12:37 PM","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:24"},{"title":"Spark Streaming","text":"import java.text.{SimpleDateFormat, ParseException}\nimport java.util.Date\n\nimport org.apache.spark.{SparkConf}\nimport org.apache.spark.streaming.kafka.{KafkaUtils}\nimport org.apache.spark.streaming.{StreamingContext, Seconds}\n\nimport play.api.libs.json._\n\nval ssc = new StreamingContext(sc, Seconds(2))\nval msgStream = KafkaUtils.createStream(ssc, \"master.mesos:2181/dcos-service-kafka\", \"zeppelin-consumer-group\", Map(\"TOPIC\" -> 1)).map(_._2)\n\nval stream = msgStream.map(string=> {\n        val msg = Json.parse(string)\n        (REPLACE1)\n    })\nstream.print()\n            \nstream.window(Seconds(60))\n    .foreachRDD(rdd => rdd.toDF(REPLACE2).registerTempTable(\"TABLE\"))\n                                   \n                                        \n            \nssc.start()","dateUpdated":"Jan 31, 2017 6:12:37 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"tableHide":false,"editorMode":"ace/mode/scala","title":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485886357675_1171424935","id":"20170131-181237_456755445","result":{"code":"SUCCESS","type":"TEXT","msg":"import java.text.{SimpleDateFormat, ParseException}\nimport java.util.Date\nimport org.apache.spark.SparkConf\nimport org.apache.spark.streaming.kafka.KafkaUtils\nimport org.apache.spark.streaming.{StreamingContext, Seconds}\nimport play.api.libs.json._\nssc: org.apache.spark.streaming.StreamingContext = org.apache.spark.streaming.StreamingContext@33126f3f\nmsgStream: org.apache.spark.streaming.dstream.DStream[String] = org.apache.spark.streaming.dstream.MappedDStream@1f5376fc\ntweetStream: org.apache.spark.streaming.dstream.DStream[(String, String, String)] = org.apache.spark.streaming.dstream.MappedDStream@20f4af29\n"},"dateCreated":"Jan 31, 2017 6:12:37 PM","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:25"},{"title":"Top tweeters","text":"%sql select * from TABLE","dateUpdated":"Jan 31, 2017 6:12:37 PM","config":{"colWidth":12,"graph":{"mode":"multiBarChart","height":560,"optionOpen":false,"keys":[{"name":"handle","index":0,"aggr":"sum"}],"values":[{"name":"count","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"handle","index":0,"aggr":"sum"}}},"enabled":true,"editorMode":"ace/mode/sql","editorHide":false,"tableHide":false,"title":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485886357676_1169501191","id":"20170131-181237_324431719","result":{"code":"SUCCESS","type":"TABLE","msg":"handle\tcount\nrosalind\t236\ntouchstone\t134\njaques\t117\ncelia\t97\norlando\t94\nduke senior\t48\ncorin\t42\nphebe\t30\nduke frederick\t19\namiens\t17\nsilvius\t15\naudrey\t9\nsir oliver martext\t7\nadam\t2\noliver\t2\n","comment":"","msgTable":[[{"key":"count","value":"rosalind"},{"key":"count","value":"236"}],[{"value":"touchstone"},{"value":"134"}],[{"value":"jaques"},{"value":"117"}],[{"value":"celia"},{"value":"97"}],[{"value":"orlando"},{"value":"94"}],[{"value":"duke senior"},{"value":"48"}],[{"value":"corin"},{"value":"42"}],[{"value":"phebe"},{"value":"30"}],[{"value":"duke frederick"},{"value":"19"}],[{"value":"amiens"},{"value":"17"}],[{"value":"silvius"},{"value":"15"}],[{"value":"audrey"},{"value":"9"}],[{"value":"sir oliver martext"},{"value":"7"}],[{"value":"adam"},{"value":"2"}],[{"value":"oliver"},{"value":"2"}]],"columnNames":[{"name":"handle","index":0,"aggr":"sum"},{"name":"count","index":1,"aggr":"sum"}],"rows":[["rosalind","236"],["touchstone","134"],["jaques","117"],["celia","97"],["orlando","94"],["duke senior","48"],["corin","42"],["phebe","30"],["duke frederick","19"],["amiens","17"],["silvius","15"],["audrey","9"],["sir oliver martext","7"],["adam","2"],["oliver","2"]]},"dateCreated":"Jan 31, 2017 6:12:37 PM","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:26"},{"dateUpdated":"Jan 31, 2017 6:12:37 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485886357676_1169501191","id":"20170131-181237_1895707891","result":{"code":"SUCCESS","type":"TEXT"},"dateCreated":"Jan 31, 2017 6:12:37 PM","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:27"}],"name":"APPNAME","id":"2C8M17WH1","angularObjects":{"2C8C9FDKR":[],"2C79RVHAB":[],"2C8ARRXXY":[],"2CAJBTA7T":[],"2CA37KN8X":[],"2CA41X1TM":[],"2C7G711H3":[],"2CAHJMEZQ":[],"2CA3SXHQH":[],"2C7CK78ZV":[],"2C9YAER96":[],"2C8D1KBNV":[],"2C6Y2GNBB":[],"2CAU2F8B5":[]},"config":{"looknfeel":"default"},"info":{}}